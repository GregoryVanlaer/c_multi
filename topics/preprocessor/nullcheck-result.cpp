void foo(int* ptr)
{
  if ( ptr == nullptr )
    fail();

  /* ... */
}
